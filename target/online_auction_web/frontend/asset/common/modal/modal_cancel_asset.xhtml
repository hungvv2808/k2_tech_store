<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <!--depositPopup-->
    <div class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" id="cancelAssetPopup">
        <div class="modal-dialog modal-sm modal-dialog-centered" role="document" style="min-width: inherit;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&#xd7;</span>
                    </button>
                    <h5 class="modal-title">Thông báo</h5>
                </div>
                <div class="modal-body">
                    <p>Tài sản đã bị tạm dừng bởi đấu giá viên</p>
                    <p>Lý do: </p>
                    <h:panelGroup id="#{Constant.AREA_MODAL_CANCEL_ASSET}">
                        <h:panelGroup rendered="#{not empty auctionController.assetFileCancel}">
                            <p style="text-align: justify">#{auctionController.assetFileCancel.reasonCancelAsset}</p>
                            <h:panelGroup rendered="#{not empty auctionController.assetFileCancel.filePath}">
                                <div style="margin-top: 5px;">
                                    <h:panelGroup style="text-align: center;"
                                                  rendered="#{not commonController.isPdfFile(auctionController.assetFileCancel.filePath)}">
                                        <p>Tải xuống file lý do tạm dừng</p>
                                        <p>
                                            <h:form>
                                                <h:commandButton class="btn btn-custom main-color"
                                                                 style="margin-top: 5px; height: 30px; float: none;" value="Tải xuống"
                                                                 actionListener="#{commonController.download(auctionController.assetFileCancel.filePath)}"/>
                                            </h:form>
                                        </p>
                                    </h:panelGroup>
                                    <h:panelGroup rendered="#{commonController.isPdfFile(auctionController.assetFileCancel.filePath)}">
                                        <style>#cancelAssetPopup .modal-dialog { width: 800px !important; }</style>
                                        <p style="margin-top: 15px;">Nội dung file đính kèm: </p>
                                        <div class="document-viewer">
                                            <object data="#{resource[auctionController.assetFileCancel.filePath]}" type="application/pdf" width="100%" height="500px">
                                                <p style="padding: 20px 50px 0;">Nếu trình duyệt của bạn không có PDF plugin. <a style="display: inline;" href="#{resource[auctionController.assetFileCancel.filePath]}">Nhấn vào đây để tải xuống file PDF.</a></p>
                                            </object>
                                        </div>
                                    </h:panelGroup>
                                </div>
                            </h:panelGroup>
                        </h:panelGroup>
                    </h:panelGroup>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary no-processing" data-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>

    <p:remoteCommand name="cmdRefreshCancelAsset" update="#{Constant.AREA_MODAL_CANCEL_ASSET}" oncomplete="jQuery('#cancelAssetPopup').modal('show');"/>

</ui:composition>
